
public static class Tests
{
    public void Once(void() Action)
    {
        while (true)
        {
            Action();
            break;
        }

        // -fsimplify-control should optimize this to:
        //
        // Action();
    }

    public void Never(void() Action)
    {
        while (false)
        {
            Action();
        }

        // This should always be optimized away, -fsimplify-control or no.
    }

    public void Forever(bool() Condition)
    {
        do
        {
            if (Condition())
            {
                next;
            }
            break;
        } while (true);

        // -fsimplify-control should optimize this to:
        //
        // tag: { if (Condition()) continue tag; }
        //
        // which is approximately the same as:
        //
        // do { } while (Condition());
    }
}
